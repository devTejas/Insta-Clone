{"version":3,"sources":["components/Navbar.js","components/Loading/Loading.js","services/useDebounce.js","components/Post/Post.js","pages/AllPost/AllPost.js","pages/CreatePost/CreatePost.js","pages/Home/Home.js","pages/Profile/Profile.js","services/UserAuthentication.js","pages/SignIn.js","pages/SignUp.js","pages/UserProfile/UserProfile.js","services/useLocalStorage.js","pages/ViewPost/ViewPost.js","reducers/userReducer.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","navigate","useNavigate","className","to","style","color","id","display","_id","onClick","localStorage","clear","type","length","M","toast","html","classes","Loading","xmlns","width","height","viewBox","cx","cy","attributeName","values","dur","repeatCount","begin","debouncedCb","callback","delay","timer","context","this","args","arguments","clearTimeout","setTimeout","call","Post","postedBy","postUserID","name","photo","title","body","likes","comments","postLikedByUser","useState","postLiked","setPostLiked","postLikesArrLength","setPostLikesArrLength","reverse","commentsData","setCommentsData","postDeleted","setPostDeleted","debouncedLikePost","fetch","method","headers","Authorization","getItem","JSON","stringify","postId","then","res","json","result","error","checkCurrentUserLikedPost","catch","console","log","likesArr","indexOfId","findIndex","debouncedDeletePost","message","err","useEffect","float","cursor","src","d","map","text","commentUserId","onSubmit","e","preventDefault","target","value","placeholder","AllPost","data","setData","posts","item","CreatePost","setTitle","setBody","images","setImages","imageURL","setImageURL","uploadImage","a","FormData","append","secure_url","url","uploadPost","textAlign","onChange","defaultValue","accept","file","reader","FileReader","readAsDataURL","onload","renderImage","files","alt","Home","loading","setLoading","userFollowingPosts","userNotFollowingPosts","setPosts","forEach","post","following","push","borderTop","Profile","fetchPosts","myPosts","checkEmailPassword","email","password","Error","test","signUp","imgURL","signIn","guestUser","token","user","setItem","SignIn","setEmail","setPassword","signInUser","SignUp","setName","setFile","signUpUser","required","minLength","UserProfile","setUser","followState","setFollowState","userid","useParams","fetchData","filter","val","followers","debouncedFollowUser","followId","payload","ls","setItemLS","key","ViewPost","setPost","UserID","parse","reducer","action","createContext","AppRoutes","pathname","useLocation","path","element","exact","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35075947.chunk.js","sourcesContent":["import M from \"materialize-css\";\nimport React, { useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../App\";\n\nconst Navbar = () => {\n  const { state, dispatch } = useContext(UserContext);\n\n  const navigate = useNavigate();\n\n  const logoutUser = () => {\n    localStorage.clear();\n    dispatch({ type: \"CLEAR\" });\n    localStorage.length === 0 &&\n      M.toast({ html: \"User logged out!\", classes: \"green\" });\n    navigate(\"/all\");\n  };\n\n  return (\n    <div className=\"navbar-fixed\">\n      <nav>\n        <div className=\"nav-wrapper white\">\n          <Link to={state ? \"/\" : \"/all\"} className=\"brand-logo left\">\n            <span style={{ color: \"salmon\" }}>Instagram</span>\n          </Link>\n          <ul id=\"nav-mobile\" style={{ display: \"flex\" }} className=\"right\">\n            <li>\n              <Link to=\"/all\">All Posts</Link>\n            </li>\n            {!state && (\n              <div>\n                <li>\n                  <Link to=\"/signin\">SignIn</Link>\n                </li>\n                <li>\n                  <Link to=\"/signup\">Signup</Link>\n                </li>\n              </div>\n            )}\n            {state && (\n              <div>\n                <li>\n                  <Link to={`/profile/${state?._id}`}>Profile</Link>\n                </li>\n                <li>\n                  <Link to=\"/create\">Upload</Link>\n                </li>\n                <li>\n                  <a className=\"btn #c62828 red darken-3\" onClick={logoutUser}>\n                    LogOut\n                  </a>\n                </li>\n              </div>\n            )}\n          </ul>\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport \"./Loading.css\";\n\nconst Loading = () => {\n  return (\n    <div className=\"content_loading\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"100px\"\n        height=\"100px\"\n        viewBox=\"0 0 100 100\"\n        className=\"content_loading_animation\"\n      >\n        <circle cx=\"30\" cy=\"50\">\n          <animate\n            attributeName=\"r\"\n            values=\"0;5;0\"\n            dur=\"1.2s\"\n            repeatCount=\"indefinite\"\n          ></animate>\n        </circle>\n        <circle cx=\"50\" cy=\"50\">\n          <animate\n            attributeName=\"r\"\n            values=\"0;5;0\"\n            dur=\"1.2s\"\n            begin=\"0.4s\"\n            repeatCount=\"indefinite\"\n          ></animate>\n        </circle>\n        <circle cx=\"70\" cy=\"50\">\n          <animate\n            attributeName=\"r\"\n            values=\"0;5;0\"\n            dur=\"1.2s\"\n            begin=\"0.8s\"\n            repeatCount=\"indefinite\"\n          ></animate>\n        </circle>\n      </svg>\n    </div>\n  );\n};\n\nexport default Loading;\n","function debouncedCb(callback, delay) {\n  let timer;\n  return function () {\n    let context = this,\n      args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(() => callback.call(context, ...args), delay);\n  };\n}\n\nexport default debouncedCb;\n","import M from \"materialize-css\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../../App\";\nimport debouncedCb from \"../../services/useDebounce\";\nimport \"./Post.css\";\n\n// _id -> postId\nconst Post = ({\n  _id,\n  postedBy: { _id: postUserID, name },\n  photo,\n  title,\n  body,\n  likes,\n  comments,\n  postLikedByUser = false,\n}) => {\n  const [postLiked, setPostLiked] = useState(postLikedByUser); // whether currentUser liked the post or not\n  // For showing number of likes on the post\n  const [postLikesArrLength, setPostLikesArrLength] = useState(likes.length);\n  const [commentsData, setCommentsData] = useState(comments.reverse());\n  const [postDeleted, setPostDeleted] = useState(false);\n\n  const navigate = useNavigate();\n\n  const { state } = useContext(UserContext);\n\n  // using debounce for like\n  const likePost = () => {\n    try {\n      fetch(\"/like\", {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        },\n        body: JSON.stringify({ postId: _id, postLiked }),\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          if (result?.error) throw result?.error;\n          checkCurrentUserLikedPost(result?.likes);\n        })\n        .catch((error) => {\n          console.log(error);\n          M.toast({ html: error, classes: \"red\" });\n        });\n    } catch (error) {\n      console.log(error);\n      M.toast({ html: error, classes: \"red\" });\n    }\n  };\n\n  const debouncedLikePost = debouncedCb(likePost, 500);\n\n  const checkCurrentUserLikedPost = (likesArr = likes) => {\n    let indexOfId = likesArr.findIndex((id) => id === state?._id);\n    setPostLiked(indexOfId >= 0);\n    setPostLikesArrLength(likesArr.length);\n  };\n\n  const makeComment = (text, postId) => {\n    fetch(\"/comment\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n      body: JSON.stringify({ postId, text }),\n    })\n      .then((res) => res.json())\n      .then((result) => setCommentsData(result.comments))\n      .catch((err) => console.log(err));\n  };\n\n  const deletePost = () => {\n    try {\n      fetch(`/deletepost/${_id}`, {\n        method: \"delete\",\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` },\n      })\n        .then((res) => res.json())\n        .then(({ message }) => {\n          // if using ViewPost page & user has deleted the post so remove it from LocalStorage as well\n          // const viewPostObj = getItemLS(\"viewPost\");\n          // var x = viewPostObj[_id] ? setItemLS(\"viewPost\", { _id: null }) : \"\";\n\n          setPostDeleted(true);\n          M.toast({ html: message, classes: \"green\" });\n        });\n    } catch (err) {\n      console.log(err);\n      M.toast({ html: err, classes: \"red\" });\n    }\n  };\n\n  const debouncedDeletePost = debouncedCb(deletePost, 500);\n\n  // to check if the user has previously liked the post or not\n  useEffect(checkCurrentUserLikedPost, [likes]);\n\n  // if comment/view_post is clicked, then savePostDetails function is called & it saves the post details in localStorage & the ViewPost page fetches the data from the localStorage using postId\n  // const savePostDetails = () => {\n  //   const postData = {\n  //     _id,\n  //     postedBy: { _id: postUserID, name },\n  //     photo,\n  //     title,\n  //     body,\n  //     likes,\n  //     comments,\n  //     postLiked,\n  //     postLikesArrLength,\n  //   };\n\n  //   const viewPostObj = getItemLS(\"viewPost\") ?? {};\n  //   viewPostObj[_id] = postData;\n  //   setItemLS(\"viewPost\", viewPostObj);\n\n  //   navigate(`/post/${_id}`);\n  // };\n\n  return (\n    !postDeleted && (\n      <div className=\"card home-card\" key={_id}>\n        <h5>\n          <Link to={`/profile/${postUserID}`}>\n            <span className=\"postUserName\"> {name}</span>\n          </Link>\n          {state?._id === postUserID && (\n            <i\n              className=\"material-icons\"\n              style={{ float: \"right\", cursor: \"pointer\" }}\n              onClick={debouncedDeletePost}\n            >\n              delete\n            </i>\n          )}\n        </h5>\n        {/* <Link to={`/post/${_id}`}> */}\n        <div className=\"card-image postImage\">\n          <img src={photo} />\n        </div>\n        {/* </Link> */}\n        <div className=\"card-content\">\n          <h6 className=\"postTitle\">{title}</h6>\n          <p className=\"postBody\"> {body}</p>\n          <div className=\"post_bottom\">\n            {/* Comment post */}\n            <div className=\"\">\n              <svg viewBox=\"0 0 26 26\" aria-hidden=\"true\" className=\"post-icon\">\n                <g>\n                  <path d=\"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z\"></path>\n                </g>\n              </svg>\n              <span>{commentsData.length}</span>\n            </div>\n            {/* like Post */}\n            <div>\n              <svg\n                viewBox=\"0 0 26 26\"\n                aria-hidden=\"true\"\n                className={postLiked ? \"iconLiked like-icon\" : \"like-icon\"}\n                style={{ cursor: `${state ? \"\" : \"not-allowed\"}` }}\n                onClick={state && debouncedLikePost}\n              >\n                <g>\n                  <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\"></path>\n                </g>\n              </svg>\n              <span>{postLikesArrLength}</span>\n            </div>\n            {/* share post */}\n            <div>\n              <svg viewBox=\"0 0 26 26\" aria-hidden=\"true\" className=\"post-icon\">\n                <g>\n                  <path d=\"M17.53 7.47l-5-5c-.293-.293-.768-.293-1.06 0l-5 5c-.294.293-.294.768 0 1.06s.767.294 1.06 0l3.72-3.72V15c0 .414.336.75.75.75s.75-.336.75-.75V4.81l3.72 3.72c.146.147.338.22.53.22s.384-.072.53-.22c.293-.293.293-.767 0-1.06z\"></path>\n                  <path d=\"M19.708 21.944H4.292C3.028 21.944 2 20.916 2 19.652V14c0-.414.336-.75.75-.75s.75.336.75.75v5.652c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V14c0-.414.336-.75.75-.75s.75.336.75.75v5.652c0 1.264-1.028 2.292-2.292 2.292z\"></path>\n                </g>\n              </svg>\n              <span></span>\n            </div>\n          </div>\n          <div className=\"commentsSection\">\n            <p className=\"\">Comments</p>\n            {commentsData.map(\n              ({ _id, text, postedBy: { _id: commentUserId, name } }) => (\n                <div key={_id} className=\"commentItem\">\n                  <Link to={`/profile/${commentUserId}`}>\n                    <h6 className=\"postUserName\">{name}</h6>\n                  </Link>\n                  <h6>{text}</h6>\n                </div>\n              )\n            )}\n          </div>\n          {state ? (\n            <form\n              className=\"sendComment\"\n              onSubmit={(e) => {\n                e.preventDefault();\n                makeComment(e.target[0].value, _id);\n                e.target[0].value = \"\";\n              }}\n            >\n              <input type=\"text\" placeholder=\"add a comment\" />\n            </form>\n          ) : (\n            <>Login to comment!</>\n          )}\n        </div>\n      </div>\n    )\n  );\n};\n\nexport default Post;\n","import React, { useEffect, useState } from \"react\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Post from \"../../components/Post/Post\";\nimport \"./AllPost.css\";\n\nconst AllPost = () => {\n  const [data, setData] = useState(null);\n\n  const fetchPosts = () => {\n    fetch(\"/allpost\", {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` },\n    })\n      .then((res) => res.json())\n      .then((result) => setData(result.posts.reverse()));\n  };\n\n  useEffect(fetchPosts, []);\n\n  return (\n    <div className=\"home\">\n      {data ? (\n        <>\n          {data?.map((item) => (\n            <Post key={item._id} {...item} />\n          ))}\n        </>\n      ) : (\n        <Loading />\n      )}\n    </div>\n  );\n};\n\nexport default AllPost;\n","import M from \"materialize-css\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport \"./CreatePost.css\";\n\nconst CreatePost = () => {\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [images, setImages] = useState(null);\n  const [imageURL, setImageURL] = useState(null);\n  const navigate = useNavigate();\n\n  const uploadImage = async () => {\n    const data = new FormData();\n    data.append(\"file\", images);\n    data.append(\"upload_preset\", \"insta-clone\");\n    data.append(\"cloud_name\", \"pleasecontrol\");\n    const url = await fetch(\n      \"https://api.cloudinary.com/v1_1/pleasecontrol/image/upload\",\n      {\n        method: \"post\",\n        body: data,\n      }\n    )\n      .then((res) => res.json())\n      .then((data) => data.secure_url)\n      .catch((err) => {\n        console.log(err);\n        throw err;\n      });\n\n    // console.log(url);\n    return url;\n  };\n\n  const uploadPost = async () => {\n    try {\n      if (!title || !body || !images)\n        throw { error: \"Please add all the Fields\" };\n\n      const photo = await uploadImage(); // photo -> imageURL\n      // console.log(photo);\n      fetch(\"/createpost\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        },\n        body: JSON.stringify({\n          title,\n          body,\n          photo,\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          // console.log(data);\n          if (data.error)\n            M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\n          else {\n            M.toast({ html: \"Success\", classes: \"green\" });\n            navigate(\"/\");\n          }\n        });\n    } catch ({ error }) {\n      console.log(error);\n      M.toast({ html: error, classes: \"#c62828 red darken-3\" });\n    }\n  };\n\n  // render image before uploading\n  const renderImage = (file) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (e) => setImageURL(e.target.result);\n    setImages(file);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"card input-field uploadFileCard\">\n        <div className=\"\" style={{ textAlign: \"left\" }}>\n          <label className=\"inputLabel\">\n            Title\n            <input\n              type=\"text\"\n              placeholder=\"Title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n            />\n          </label>\n          <label className=\"inputLabel\">\n            Body\n            <textarea\n              type=\"text\"\n              placeholder=\"Body\"\n              defaultValue={body}\n              onChange={(e) => setBody(e.target.value)}\n            ></textarea>\n          </label>\n        </div>\n        <div className=\"file-field input-field\">\n          <div className=\"btn #64b5f6 blue darken-1\">\n            <span>Upload Image</span>\n            <input\n              type=\"file\"\n              accept=\".png, .jpeg, .jpg, .gif\"\n              // multiple={true}\n              onChange={(e) => renderImage(e.target.files[0])}\n            />\n          </div>\n          <div className=\"file-path-wrapper\">\n            <input type=\"text\" className=\"file-path validate\" />\n          </div>\n        </div>\n        <button\n          className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n          onClick={uploadPost}\n        >\n          Submit Post\n        </button>\n      </div>\n      <img src={imageURL} alt=\"\" className=\"uploadedImage\" />\n    </div>\n  );\n};\n\nexport default CreatePost;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"../../App\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Post from \"../../components/Post/Post\";\nimport \"./Home.css\";\n\nconst Home = () => {\n  const [loading, setLoading] = useState(() => true);\n  const [{ userFollowingPosts, userNotFollowingPosts }, setPosts] = useState({\n    userFollowingPosts: null,\n    userNotFollowingPosts: null,\n  });\n\n  const { state } = useContext(UserContext);\n\n  // if user is logged in, show only posts he is following else show all the posts\n  // const fetchPosts = () => {\n  //   if (state) {\n  //     const fetchPostsArr = [];\n\n  //     fetch(\"/post\", {\n  //       headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` },\n  //     })\n  //       .then((res) => res.json())\n  //       .then((result) => setData(result.posts.reverse()));\n  //   }\n  // };\n\n  // useEffect(fetchPosts, [state]);\n\n  const fetchPosts = () => {\n    fetch(\"/allpost\")\n      .then((res) => res.json())\n      .then(({ posts }) => {\n        if (state) {\n          let userFollowingPosts = [];\n          let userNotFollowingPosts = [];\n          posts.reverse().forEach((post) => {\n            // console.log(post, state, state?.following, post?.postedBy?._id);\n            if (\n              state?.following.findIndex((id) => post?.postedBy?._id === id) >\n              -1\n            )\n              userFollowingPosts.push(post);\n            else userNotFollowingPosts.push(post);\n          });\n          setPosts({ userFollowingPosts, userNotFollowingPosts });\n          setLoading(false);\n        }\n      });\n  };\n\n  useEffect(() => {\n    if (state) fetchPosts();\n  }, [state]);\n\n  return (\n    <div className=\"home\">\n      {!loading ? (\n        <>\n          <div className=\"\">\n            <p style={{ textAlign: \"center\" }} className=\"\">\n              {!userFollowingPosts.length && userFollowingPosts.length} Posts\n              from people you are following!\n            </p>\n            {userFollowingPosts?.map((item) => (\n              <Post key={item._id} {...item} />\n            ))}\n          </div>\n          <div style={{ borderTop: \"1px solid gray\" }} className=\"\">\n            <p style={{ textAlign: \"center\" }} className=\"\">\n              Posts from people you are not following!\n            </p>\n            {userNotFollowingPosts?.map((item) => (\n              <Post key={item._id} {...item} />\n            ))}\n          </div>\n        </>\n      ) : (\n        <Loading />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"../../App\";\nimport Loading from \"../../components/Loading/Loading\";\nimport \"./Profile.css\";\n\nconst Profile = () => {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { state, dispatch } = useContext(UserContext);\n\n  const fetchPosts = async () => {\n    await fetch(\"/mypost\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => setPosts(result?.myPosts?.reverse()));\n  };\n\n  // async callbacks can't be passed to useEffect\n  useEffect(() => fetchPosts(), []);\n\n  return (\n    <>\n      {loading ? (\n        <div className=\"profile\">\n          <div className=\"profileContainer\">\n            <div className=\"profileImage\">\n              <img src=\"/sirsourav.jpg\" alt=\"Person Image\" />\n            </div>\n            <div className=\"profileDescription\">\n              <h4>{state?.name}</h4>\n              <div className=\"\">\n                <h6>{posts.length} Posts</h6>\n                <h6>40 Followers</h6>\n                <h6>40 Following</h6>\n              </div>\n            </div>\n          </div>\n          <div className=\"gallery\">\n            {posts?.map((post) => (\n              <div className=\"itemContainer\" key={post._id}>\n                <img className=\"item\" src={post.photo} alt=\"\" />\n              </div>\n            ))}\n          </div>\n          {!posts?.length && (\n            <h2 className=\"noPostsText\">NO POSTS TO DISPLAY!</h2>\n          )}\n        </div>\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n","const checkEmailPassword = (email, password) => {\n  let emailRegex =\n    /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  if (!email || !password) throw new Error(\"Please fill all the fields\");\n\n  if (!emailRegex.test(email)) throw new Error(\"Enter valid email\");\n\n  // password validation\n  if (password.length < 6)\n    throw new Error(\"Password cannot be less than 6 characters!\");\n};\n\nexport const signUp = async (name, email, password, imgURL) => {\n  try {\n    checkEmailPassword(email, password);\n\n    // console.log(name, email, password, imgURL);\n    return await fetch(\"/signup\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ name, email, password, imgURL }),\n    })\n      .then((res) => res.json())\n      .then(async (data) => {\n        if (data.error) throw data.error;\n        else return await signIn(email, password);\n      });\n  } catch (error) {\n    console.log(error);\n    return { error }; // no need to pass an object as error is already an object\n  }\n};\n\nexport const signIn = async (email, password, guestUser) => {\n  try {\n    if (!guestUser) checkEmailPassword(email, password);\n\n    return await fetch(\"/signin\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password, guestUser }),\n    })\n      .then((res) => res.json())\n      .then(({ token, user, error }) => {\n        if (error) throw error;\n        localStorage.setItem(\"jwt\", token);\n        localStorage.setItem(\"user\", JSON.stringify(user));\n        return { error };\n      });\n  } catch (error) {\n    console.log(error);\n    return { error };\n  }\n};\n","import M from \"materialize-css\";\nimport React, { useContext, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../App\";\nimport { signIn } from \"../services/UserAuthentication\";\nconst SignIn = () => {\n  const { state, dispatch } = useContext(UserContext);\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  const signInUser = async (guestUser = false) => {\n    try {\n      const { error } = await signIn(email, password, guestUser);\n      if (error) throw error;\n      M.toast({ html: \"Signed in successfully!\", classes: \"green\" });\n      navigate(\"/\");\n    } catch (err) {\n      M.toast({ html: err, classes: \"#c62828 red darken-3\" });\n    }\n  };\n\n  return (\n    <div className=\"container signUpContainer\">\n      <div className=\"mycard\">\n        <div className=\"card auth-card\">\n          <h2>Instagram</h2>\n          <div className=\"\" style={{ textAlign: \"left\" }}>\n            <label className=\"label-field\">\n              Email\n              <input\n                className=\"input-field\"\n                type=\"email\"\n                placeholder=\"Enter your email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </label>\n            <label className=\"label-field\">\n              Password\n              <input\n                className=\"input-field\"\n                type=\"password\"\n                placeholder=\"Enter your password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </label>\n          </div>\n          <div className=\"loginButtonsContainer\">\n            <button\n              onClick={() => signInUser(false)}\n              className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n            >\n              Login\n            </button>\n            <button\n              className=\"guestLoginBtn\"\n              // className=\"btn waves-effect waves-light #E76F51 blue darken-1 guestLoginBtn\"\n              onClick={() => signInUser(true)}\n            >\n              GUEST LOGIN\n            </button>\n          </div>\n          <Link className=\"linkText\" to=\"/signup\">\n            Don't have an account?\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignIn;\n","import M from \"materialize-css\";\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { signUp } from \"../services/UserAuthentication\";\n\nconst SignUp = () => {\n  const [name, setName] = useState(() => \"\");\n  const [email, setEmail] = useState(() => \"\");\n  const [password, setPassword] = useState(() => \"\");\n  const [imageURL, setImageURL] = useState(() => null);\n  const [file, setFile] = useState(() => null);\n  const [loading, setLoading] = useState(false);\n\n  const navigate = useNavigate();\n\n  const uploadImage = async () => {\n    const data = new FormData();\n    data.append(\"file\", file);\n    data.append(\"upload_preset\", \"insta-clone\");\n    data.append(\"cloud_name\", \"pleasecontrol\");\n    let url = \"\";\n    url = await fetch(\n      \"https://api.cloudinary.com/v1_1/pleasecontrol/image/upload\",\n      {\n        method: \"post\",\n        body: data,\n      }\n    )\n      .then((res) => res.json())\n      .then((data) => data.secure_url)\n      .catch((err) => {\n        console.log(err);\n        M.toast({ html: JSON.stringify(err), classes: \"red\" });\n      });\n\n    // console.log(url);\n    return url;\n  };\n\n  const signUpUser = async () => {\n    setLoading(true);\n    let imgURL;\n    try {\n      if (file) imgURL = await uploadImage();\n      // console.log(name, email, password, imgURL);\n      const { error } = await signUp(name, email, password, imgURL);\n      if (error) throw error;\n      M.toast({\n        html: \"User created & Signed In successfully!\",\n        classes: \"green\",\n      });\n      navigate(\"/\");\n    } catch (err) {\n      setLoading(false);\n      M.toast({ html: err, classes: \"#c62828 red darken-3\" });\n    }\n  };\n\n  const renderImage = (file) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (e) => setImageURL(() => e.target.result);\n    setFile(() => file);\n  };\n\n  return (\n    <div\n      className=\"container signUpContainer\"\n      style={{ height: imageURL && \"\" }}\n    >\n      {imageURL && <img src={imageURL} alt=\"\" className=\"userImage\" />}\n      <div className=\"mycard\">\n        <div className=\"card auth-card\">\n          <h2>Instagram</h2>\n          <div className=\"\" style={{ textAlign: \"left\" }}>\n            <label className=\"label-field\">\n              Name\n              <input\n                className=\"input-field\"\n                type=\"text\"\n                placeholder=\"Enter your Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                required\n              />\n            </label>\n            <label className=\"label-field\">\n              Email\n              <input\n                className=\"input-field\"\n                type=\"email\"\n                placeholder=\"Enter your email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </label>\n            <label className=\"label-field\">\n              Password\n              <input\n                className=\"input-field\"\n                type=\"password\"\n                placeholder=\"Enter your password\"\n                minLength={6}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </label>\n            <div className=\"file-field input-field\">\n              <div className=\"btn #64b5f6 blue darken-1\">\n                <span>Upload Image</span>\n                <input\n                  type=\"file\"\n                  accept=\".png, .jpeg, .jpg, .gif\"\n                  // multiple={true}\n                  onChange={(e) => renderImage(e.target.files[0])}\n                />\n              </div>\n              <div className=\"file-path-wrapper\">\n                <input type=\"text\" className=\"file-path validate\" />\n              </div>\n            </div>\n          </div>\n          <button\n            className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n            onClick={!loading ? signUpUser : () => {}}\n          >\n            {!loading ? \"SignUp\" : \"...\"}\n          </button>\n          <Link className=\"linkText\" to=\"/signin\">\n            Already have an account?\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import M from \"materialize-css\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { UserContext } from \"../../App\";\nimport Loading from \"../../components/Loading/Loading\";\nimport debouncedCb from \"../../services/useDebounce\";\nimport \"./UserProfile.css\";\n\nconst UserProfile = () => {\n  const [user, setUser] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [followState, setFollowState] = useState(\"follow\");\n  const { state, dispatch } = useContext(UserContext);\n  const { userid } = useParams();\n\n  // fetch user profile & posts\n  const fetchData = async () => {\n    // await fetch(\n    //   `/user/${userid}`\n    //   // ,{headers: {\"Content-Type\": \"application/json\",\n    //   //     Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`}}\n    // )\n    //   .then((res) => res.json())\n    //   .then((result) => setPosts(result?.myPosts?.reverse()));\n    await fetch(`/user/${userid}`)\n      .then((res) => res.json())\n      .then((result) => {\n        setPosts(result?.posts?.reverse());\n        setUser(result?.user);\n        setLoading(false);\n      });\n  };\n\n  const deletePost = (postId) => {\n    try {\n      fetch(`/deletepost/${postId}`, {\n        method: \"delete\",\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` },\n      })\n        .then((res) => res.json())\n        .then(({ message }) => {\n          setPosts(posts.filter((post) => post._id !== postId));\n          M.toast({ html: message, classes: \"green\" });\n        });\n    } catch (err) {\n      console.log(err);\n      M.toast({ html: err, classes: \"red\" });\n    }\n  };\n\n  const debouncedDeletePost = debouncedCb(deletePost, 500);\n\n  // check if currentUser already follows the user(profile currently seeing)\n  const isFollower = () => {\n    let val =\n      user?.followers?.findIndex((id) => id === state?._id) >= 0 ? true : false;\n    // console.log(user, val, userid, state?._id);\n    // if val=true ie. current_user follows this user, so show `unfollow`\n    val ? setFollowState(\"unfollow\") : setFollowState(\"follow\");\n  };\n\n  // async callbacks can't be passed to useEffect\n  useEffect(() => fetchData(), [userid]);\n\n  useEffect(isFollower, [user, state]);\n\n  const followUser = () => {\n    try {\n      fetch(`/${followState}`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        },\n        body: JSON.stringify({ followId: userid }),\n      })\n        .then((res) => res.json())\n        .then((user) => {\n          // there is no need for a dispatch as well, because this data is directly fetched\n          // dispatch({\n          //   type: \"UPDATE\",\n          //   payload: {\n          //     following: user?.following,\n          //     followers: user?.followers,\n          //   },\n          // });\n\n          // here the user is profile of user currently viewing, hence if setItem is done, it replaces the logged in user data. setItem can be done if the user returned is the logged in user\n          // setItemLS(\"user\", user);\n\n          if (user?.error) throw user?.error;\n          setUser(user);\n\n          // only following needs to be updated - followers of the logged in user aren't important\n          dispatch({ type: \"UPDATE\", payload: { userid, followState } });\n\n          followState === \"follow\"\n            ? setFollowState(\"unfollow\")\n            : setFollowState(\"follow\");\n        });\n    } catch (error) {\n      M.toast({ html: error, classes: \"red\" });\n    }\n  };\n\n  const debouncedFollowUser = debouncedCb(followUser, 500);\n\n  return (\n    <>\n      {!loading ? (\n        <div className=\"profile\">\n          <div className=\"profileContainer\">\n            <div className=\"profileImage\">\n              <img src={user?.imgURL} alt=\"Person Image\" />\n            </div>\n            <div className=\"profileDescription\">\n              <h4>{user?.name}</h4>\n              <div className=\"\">\n                <h6>{posts.length} Posts</h6>\n                <h6>{user?.followers?.length} Followers</h6>\n                <h6>{user?.following?.length} Following</h6>\n              </div>\n              {userid !== state?._id && (\n                <button\n                  style={{ cursor: `${state ? \"\" : \"not-allowed\"}` }}\n                  className=\"btn waves-effect 64b5f6 blue darken\"\n                  onClick={state && debouncedFollowUser}\n                >\n                  {followState}\n                </button>\n              )}\n            </div>\n          </div>\n          <div className=\"gallery\">\n            {posts?.map((post) => (\n              <div className=\"itemContainer\" key={post._id}>\n                {state?._id === userid && (\n                  <i\n                    className=\"material-icons deleteBtn\"\n                    onClick={() => debouncedDeletePost(post._id)}\n                  >\n                    delete\n                  </i>\n                )}\n                <img className=\"item\" src={post.photo} alt=\"\" />\n              </div>\n            ))}\n          </div>\n          {!posts.length && (\n            <h2 className=\"noPostsText\">NO POSTS TO DISPLAY!</h2>\n          )}\n        </div>\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n};\n\nexport default UserProfile;\n","const ls = localStorage;\n\nexport const getItemLS = (key) => JSON.parse(ls.getItem(key));\n\nexport const setItemLS = (key, value) => ls.setItem(key, JSON.stringify(value));\n","import M from \"materialize-css\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { UserContext } from \"../../App\";\nimport Post from \"../../components/Post/Post\";\nimport { getItemLS, setItemLS } from \"../../services/useLocalStorage\";\nimport \"./ViewPost.css\";\n\nconst ViewPost = () => {\n  const [post, setPost] = useState(null);\n  const { id } = useParams();\n  const {\n    state: { _id: UserID },\n  } = useContext(UserContext);\n\n  const makeComment = (text, postId) => {\n    fetch(\"/comment\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n      body: JSON.stringify({ postId, text }),\n    })\n      .then((res) => res.json())\n      .then((result) => setCommentsData(result.comments))\n      .catch((err) => console.log(err));\n  };\n\n  const deletePost = () => {\n    const { _id } = post;\n    try {\n      fetch(`/deletepost/${_id}`, {\n        method: \"delete\",\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` },\n      })\n        .then((res) => res.json())\n        .then(({ message }) => {\n          const viewPostObj = getItemLS(\"viewPost\");\n          var x = viewPostObj[_id] ? setItemLS(\"viewPost\", { _id: null }) : \"\";\n          M.toast({ html: message, classes: \"green\" });\n        });\n    } catch (err) {\n      console.log(err);\n      M.toast({ html: err, classes: \"red\" });\n    }\n  };\n\n  useEffect(() => {\n    fetch(`/post/${id}`)\n      .then((res) => res.json())\n      .then((result) => setPost(result));\n  }, [id]);\n\n  const [commentsData, setCommentsData] = useState(post?.comments?.reverse());\n\n  return (\n    <div className=\"\">\n      {post ? (\n        <>\n          {UserID === post?.postedBy?._id && (\n            <i\n              className=\"material-icons\"\n              style={{ float: \"right\", cursor: \"pointer\" }}\n              onClick={deletePost}\n            >\n              delete\n            </i>\n          )}\n          <Post key={post._id} {...post} />\n          <div className=\"commentsSection\">\n            <p className=\"\">Comments</p>\n            {commentsData?.map(({ _id, text, postedBy: { name } }) => (\n              <div key={_id} className=\"commentItem\">\n                <Link to={`/`}>\n                  <h6>{name}</h6>\n                </Link>\n                <h5>{text}</h5>\n              </div>\n            ))}\n          </div>\n          <form\n            className=\"sendComment\"\n            onSubmit={(e) => {\n              e.preventDefault();\n              makeComment(e.target[0].value, post?._id);\n            }}\n          >\n            <input type=\"text\" placeholder=\"add a comment\" />\n          </form>\n        </>\n      ) : (\n        <p className=\"\">Post Not found!</p>\n      )}\n    </div>\n  );\n};\n\nexport default ViewPost;\n","import { setItemLS } from \"../services/useLocalStorage\";\n\nexport const initialState = null;\n\nexport const reducer = (state, action) => {\n  if (action.type === \"USER\") return action.payload;\n  if (action.type === \"CLEAR\") return null;\n  // if currentUser follows anyone, then dispatch is triggered with the userid of user followed & followState that tells `follow/unfollow`\n  // used only for updating following of the logged in user\n  if (action.type === \"UPDATE\") {\n    const { userid, followState } = action.payload;\n    let following = state.following;\n    if (followState === \"follow\") following.push(userid);\n    else following = following.filter((id) => id !== userid);\n    // console.log(\"update\", action, state);\n    setItemLS(\"user\", { ...state, following });\n    return { ...state, following };\n  }\n  return state;\n};\n","import { createContext, useContext, useEffect, useReducer } from \"react\";\nimport {\n  BrowserRouter,\n  Route,\n  Routes,\n  useLocation,\n  useNavigate,\n} from \"react-router-dom\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar\";\nimport AllPost from \"./pages/AllPost/AllPost\";\nimport CreatePost from \"./pages/CreatePost/CreatePost\";\nimport Home from \"./pages/Home/Home\";\nimport Profile from \"./pages/Profile/Profile\";\nimport SignIn from \"./pages/SignIn\";\nimport SignUp from \"./pages/SignUp\";\nimport UserProfile from \"./pages/UserProfile/UserProfile\";\nimport ViewPost from \"./pages/ViewPost/ViewPost\";\nimport { initialState, reducer } from \"./reducers/userReducer\";\n\nexport const UserContext = createContext(reducer);\n\nconst AppRoutes = () => {\n  const navigate = useNavigate();\n  const { pathname } = useLocation();\n  const { dispatch } = useContext(UserContext);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n      if (pathname === \"/signin\" || pathname === \"/signup\") navigate(\"/\");\n    } else {\n      if (pathname === \"/create\" || pathname === \"/\") navigate(\"/all\");\n    }\n  }, [pathname]);\n\n  return (\n    <Routes>\n      <Route path=\"/signin\" element={<SignIn />} />\n      <Route path=\"/signup\" element={<SignUp />} />\n      <Route exact path=\"/profile\" element={<Profile />} />\n      <Route path=\"/create\" element={<CreatePost />} />\n      <Route path=\"/post/:id\" element={<ViewPost />} />\n      <Route path=\"/profile/:userid\" element={<UserProfile />} />\n      <Route path=\"/\" element={<Home />} />\n      <Route path=\"/all\" element={<AllPost />} />\n      <Route path=\"*\" element={<Home />} />\n    </Routes>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <Navbar />\n        <AppRoutes />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}